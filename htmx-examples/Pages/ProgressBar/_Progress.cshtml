@{
    string Status = ViewData["Status"].ToString();
}

<div hx-trigger="done" hx-get="@Url.Page("Index", "FinalizeJob")" hx-swap="outerHTML" hx-target="this">
    <h3 role="status" id="pblabel" tabindex="-1" autofocus>@Status</h3>

    <div hx-get="@Url.Page("Index", "JobStatus")"
         hx-trigger="@(Status == "Running" ? "every 600ms" : "none")"
         hx-target="this"
         hx-swap="innerHTML">
        <partial name="_ProgressBar"/>
    </div>

    @if (Status == "Complete")
    {
        <form>
            @Html.AntiForgeryToken()
            <button id="restart-btn" class="btn btn-primary" hx-post="@Url.Page("Index", "StartJob")" hx-include="closest form" classes="add show:600ms">
                Restart Job
            </button>
        </form>
    }
</div>